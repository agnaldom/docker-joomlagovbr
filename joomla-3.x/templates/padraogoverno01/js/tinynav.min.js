(function($,window,i){$.fn.tinyNav=function(options){var settings=$.extend({'active':'selected','header':'','label':'','class':''},options);return this.each(function(){i++;var $nav=$(this),namespace='tinynav',namespace_i=namespace+i,l_namespace_i='.l_'+namespace_i,$select=$('<select/>').attr("id",namespace_i).addClass(namespace+' '+namespace_i+' '+settings.class);if($nav.is('ul,ol')){if(settings.header!==''){$select.append($('<option/>').text(settings.header))}var options='';$nav.addClass('l_'+namespace_i).find('a').each(function(){options+='<option value="'+$(this).attr('href')+'">';var j;for(j=0;j<$(this).parents('ul, ol').length-1;j++){options+='- '}options+=$(this).text()+'</option>'});$select.append(options);if(!settings.header){$select.find(':eq('+$(l_namespace_i+' li').index($(l_namespace_i+' li.'+settings.active))+')').attr('selected',true)}$select.change(function(){window.location.href=$(this).val()});$(l_namespace_i).after($select);if(settings.label){$select.before($("<label/>").attr("for",namespace_i).addClass(namespace+'_label '+namespace_i+'_label').append(settings.label))}}})}})(jQuery,this,0);